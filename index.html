<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRG Baden Sicherheits- und Oberrats-Verstrickungen</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .title {
            text-align: center;
            margin-bottom: 20px;
            color: #1a1a1a;
        }
        
        .title h1 {
            font-size: 22px;
            margin: 10px 0;
            font-weight: 600;
        }
        
        .title h2 {
            font-size: 16px;
            margin: 5px 0;
            font-weight: 400;
            color: #555;
        }
        
        canvas {
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: grab;
        }
        
        canvas:active {
            cursor: grabbing;
        }
        
        .legend {
            margin-top: 20px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 800px;
        }
        
        .legend h3 {
            margin: 0 0 15px 0;
            font-size: 18px;
            color: #1a1a1a;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            font-size: 14px;
        }
        
        .legend-line {
            width: 40px;
            height: 3px;
            margin-right: 10px;
        }
        
        .legend-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .caption {
            margin-top: 20px;
            max-width: 900px;
            padding: 15px;
            background: white;
            border-left: 4px solid #1e40af;
            font-size: 13px;
            line-height: 1.6;
            color: #333;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }
        
        button {
            padding: 8px 16px;
            background: #1e40af;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        button:hover {
            background: #1e3a8a;
        }
    </style>
</head>
<body>
    <div class="title">
        <h1>Sicherheits-, Vorstands- und Oberrats-Verstrickungen</h1>
        <h2>IRG Baden (2025)</h2>
    </div>
    
    <canvas id="networkCanvas" width="1200" height="900"></canvas>
    
    <div class="controls">
        <button onclick="resetView()">Ansicht zurÃ¼cksetzen</button>
        <button onclick="toggleLabels()">Beschriftungen ein/aus</button>
    </div>
    
    <div class="legend">
        <h3>Legende â€“ AbhÃ¤ngigkeitstypen</h3>
        <div class="legend-item">
            <div class="legend-line" style="background: #dc2626;"></div>
            <span>ðŸ”´ <strong>Familie</strong> â€“ Familienbindung (Ehepartner, Kind, Cousin)</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #ea580c;"></div>
            <span>ðŸŸ  <strong>Anstellung/Sicherheit</strong> â€“ BeschÃ¤ftigt bei IRG oder als Security</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #7c3aed;"></div>
            <span>ðŸŸ£ <strong>Delegation/Oberrat</strong> â€“ Oberratsdelegierte oder Oberrat-Ersatz</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background: #999; border: 2px dashed #666; height: 1px;"></div>
            <span>âšª <strong>RÃ¼ckkopplung</strong> â€“ Mehrfache Verbindungen innerhalb derselben Familie/Organisation</span>
        </div>
        <div class="legend-item">
            <div class="legend-circle" style="background: #1e40af;"></div>
            <span><strong>Zentraler Knoten</strong> â€“ Rami Suliman (Vorsitzende IRG Baden)</span>
        </div>
        <div class="legend-item">
            <div class="legend-circle" style="border: 2px dashed #60a5fa; background: transparent;"></div>
            <span><strong>Stadt-Cluster</strong> â€“ Regionale Gemeinden mit lokalen VorstÃ¤nden</span>
        </div>
    </div>
    
    <div class="caption">
        <strong>Forensische Analyse:</strong> Visualisierung institutioneller, familiÃ¤rer und sicherheitsbezogener AbhÃ¤ngigkeiten innerhalb der IRG Baden (2025). Alle Verbindungen laufen auf <strong>Rami Suliman â€“ Vorsitzende der IRG Baden</strong> zu und zeigen eine Konzentration von Einfluss und StimmenabhÃ¤ngigkeit Ã¼ber Familien- und BeschÃ¤ftigungsnetzwerke. Die PfeilstÃ¤rke korreliert mit der Anzahl der AbhÃ¤ngigkeitstypen: dickere Linien bedeuten mehrfache AbhÃ¤ngigkeiten (z.B. Familie + Anstellung + Delegation).
    </div>

    <script>
        const canvas = document.getElementById('networkCanvas');
        const ctx = canvas.getContext('2d');
        
        let showLabels = true;
        let scale = 1;
        let offsetX = 0;
        let offsetY = 0;
        let isDragging = false;
        let lastX = 0;
        let lastY = 0;
        
        // Central node
        const center = {
            x: 600,
            y: 450,
            label: "Rami Suliman",
            subtitle: "Vorsitzende der IRG Baden"
        };
        
        // City clusters with their connections
        const clusters = [
            {
                city: "Pforzheim",
                x: 300, y: 200,
                nodes: [
                    { label: "Cousin (Security)", deps: ["familie", "sicherheit"] }
                ]
            },
            {
                city: "LÃ¶rrach",
                x: 200, y: 400,
                nodes: [
                    { label: "Frau Shenker", subtitle: "Vorsitzende & Oberrat", deps: ["oberrat"] },
                    { label: "Sohn (Security)", deps: ["familie", "sicherheit"], parent: 0 }
                ]
            },
            {
                city: "Konstanz",
                x: 450, y: 150,
                nodes: [
                    { label: "Herr Albilia", subtitle: "IRG-Mitarbeiter, Oberrat-Ersatz, Vorstand", deps: ["sicherheit", "oberrat"] },
                    { label: "Sohn (Security)", deps: ["familie", "sicherheit"], parent: 0 }
                ]
            },
            {
                city: "Freiburg",
                x: 250, y: 600,
                nodes: [
                    { label: "Irina Katz", subtitle: "Vorsitzende & Oberrat", deps: ["oberrat"] },
                    { label: "Sohn Nikita (Security)", deps: ["familie", "sicherheit"], parent: 0 }
                ]
            },
            {
                city: "Rottweil",
                x: 550, y: 700,
                nodes: [
                    { label: "Tatiana Malafi", subtitle: "Vorsitzende / GeschÃ¤ftsfÃ¼hrerin", deps: ["sicherheit"] },
                    { label: "Sohn Mischa", subtitle: "Security-Chef, Oberrat-Ersatz", deps: ["familie", "sicherheit", "oberrat"], parent: 0 }
                ]
            },
            {
                city: "Emmendingen",
                x: 850, y: 250,
                nodes: [
                    { label: "Olga Maryanovskaya", subtitle: "Vorsitzende & Oberrat", deps: ["oberrat"] },
                    { label: "Tochter (Jugendchefin)", deps: ["familie", "sicherheit"], parent: 0 },
                    { label: "Ruslan Manasherov", subtitle: "Security-Chef & Oberrat", deps: ["sicherheit", "oberrat"] }
                ]
            },
            {
                city: "Baden-Baden",
                x: 950, y: 450,
                nodes: [
                    { label: "ehem. Security-Chef Koch", deps: ["sicherheit"] }
                ]
            },
            {
                city: "Heidelberg",
                x: 800, y: 600,
                nodes: [
                    { label: "Dima", subtitle: "Hausmeister + Lieferdienste", deps: ["sicherheit"] }
                ]
            },
            {
                city: "Mannheim",
                x: 950, y: 700,
                nodes: [
                    { label: "Sicherheitskraft", subtitle: "Revierfahrer-Hintergrund", deps: ["sicherheit"] }
                ]
            }
        ];
        
        const depColors = {
            familie: "#dc2626",
            sicherheit: "#ea580c",
            oberrat: "#7c3aed"
        };
        
        function drawArrow(fromX, fromY, toX, toY, color, width, dashed = false) {
            ctx.save();
            ctx.strokeStyle = color;
            ctx.lineWidth = width;
            ctx.fillStyle = color;
            
            if (dashed) {
                ctx.setLineDash([5, 5]);
            }
            
            // Calculate arrow direction
            const angle = Math.atan2(toY - fromY, toX - fromX);
            const headLength = 12;
            
            // Shorten line to not overlap with center circle
            const shortenTo = 45;
            const dx = toX - fromX;
            const dy = toY - fromY;
            const length = Math.sqrt(dx * dx + dy * dy);
            const ratio = (length - shortenTo) / length;
            const endX = fromX + dx * ratio;
            const endY = fromY + dy * ratio;
            
            // Draw line
            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            ctx.lineTo(endX, endY);
            ctx.stroke();
            
            // Draw arrow head
            ctx.beginPath();
            ctx.moveTo(endX, endY);
            ctx.lineTo(
                endX - headLength * Math.cos(angle - Math.PI / 6),
                endY - headLength * Math.sin(angle - Math.PI / 6)
            );
            ctx.lineTo(
                endX - headLength * Math.cos(angle + Math.PI / 6),
                endY - headLength * Math.sin(angle + Math.PI / 6)
            );
            ctx.closePath();
            ctx.fill();
            
            ctx.restore();
        }
        
        function drawNetwork() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.save();
            ctx.translate(offsetX, offsetY);
            ctx.scale(scale, scale);
            
            // Draw city clusters
            clusters.forEach(cluster => {
                // Cluster circle
                ctx.strokeStyle = "#60a5fa";
                ctx.lineWidth = 2;
                ctx.setLineDash([8, 4]);
                ctx.beginPath();
                ctx.arc(cluster.x, cluster.y, 80, 0, Math.PI * 2);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // City label
                ctx.fillStyle = "#1e40af";
                ctx.font = "bold 16px sans-serif";
                ctx.textAlign = "center";
                ctx.fillText(cluster.city, cluster.x, cluster.y - 95);
                
                // Draw nodes and connections
                cluster.nodes.forEach((node, idx) => {
                    const nodeX = cluster.x + (idx - (cluster.nodes.length - 1) / 2) * 35;
                    const nodeY = cluster.y + 20;
                    
                    // Draw feedback loop if node has parent
                    if (node.parent !== undefined) {
                        const parentX = cluster.x + (node.parent - (cluster.nodes.length - 1) / 2) * 35;
                        const parentY = cluster.y + 20;
                        drawArrow(parentX, parentY - 8, nodeX, nodeY - 8, "#999", 1, true);
                    }
                    
                    // Draw connections to center
                    node.deps.forEach((dep, depIdx) => {
                        const width = node.deps.length * 1.5 + 1;
                        const offsetAngle = (depIdx - (node.deps.length - 1) / 2) * 0.05;
                        const adjustedCenterX = center.x + Math.cos(offsetAngle) * 10;
                        const adjustedCenterY = center.y + Math.sin(offsetAngle) * 10;
                        drawArrow(nodeX, nodeY, adjustedCenterX, adjustedCenterY, depColors[dep], width);
                    });
                    
                    // Draw node circle
                    ctx.fillStyle = "#f0f9ff";
                    ctx.strokeStyle = "#3b82f6";
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.arc(nodeX, nodeY, 8, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.stroke();
                    
                    // Node label
                    if (showLabels) {
                        ctx.fillStyle = "#1a1a1a";
                        ctx.font = "11px sans-serif";
                        ctx.textAlign = "center";
                        ctx.fillText(node.label, nodeX, nodeY + 25);
                        if (node.subtitle) {
                            ctx.fillStyle = "#666";
                            ctx.font = "9px sans-serif";
                            ctx.fillText(node.subtitle, nodeX, nodeY + 37);
                        }
                    }
                });
            });
            
            // Draw center node (Rami Suliman)
            ctx.fillStyle = "#1e40af";
            ctx.beginPath();
            ctx.arc(center.x, center.y, 40, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = "white";
            ctx.font = "bold 14px sans-serif";
            ctx.textAlign = "center";
            ctx.fillText("Rami Suliman", center.x, center.y - 5);
            ctx.font = "10px sans-serif";
            ctx.fillText("Vorsitzende", center.x, center.y + 8);
            ctx.fillText("IRG Baden", center.x, center.y + 20);
            
            ctx.restore();
        }
        
        function resetView() {
            scale = 1;
            offsetX = 0;
            offsetY = 0;
            drawNetwork();
        }
        
        function toggleLabels() {
            showLabels = !showLabels;
            drawNetwork();
        }
        
        // Mouse interaction
        canvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            lastX = e.clientX;
            lastY = e.clientY;
        });
        
        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                offsetX += e.clientX - lastX;
                offsetY += e.clientY - lastY;
                lastX = e.clientX;
                lastY = e.clientY;
                drawNetwork();
            }
        });
        
        canvas.addEventListener('mouseup', () => {
            isDragging = false;
        });
        
        canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            scale *= delta;
            scale = Math.max(0.3, Math.min(2, scale));
            drawNetwork();
        });
        
        // Initial draw
        drawNetwork();
    </script>
</body>
</html>
